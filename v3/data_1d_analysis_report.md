# Анализ таблицы data_1d и колонки value

## Результаты анализа

### 1. Структура таблицы data_1d

Таблица `data_1d` содержит следующие колонки:
- `id` (INTEGER, PRIMARY KEY) - уникальный идентификатор записи
- `symbol` (TEXT, NOT NULL) - символ/тикер акции
- `datetime` (TEXT, NOT NULL) - дата и время в формате ISO
- `open` (REAL) - цена открытия
- `high` (REAL) - максимальная цена
- `low` (REAL) - минимальная цена
- `close` (REAL) - цена закрытия
- `volume` (INTEGER) - объем торгов
- `created_at` (TEXT) - время создания записи

**ВАЖНО**: В таблице `data_1d` **НЕТ** колонки `value`!

### 2. Статистика таблицы data_1d

- **Всего записей**: 46,934
- **Уникальных символов**: 164
- **Диапазон дат**: с 2024-09-30 по 2025-09-30
- **Дубликатов**: не найдено

### 3. Анализ колонки "value" в базе данных

В базе данных найдена только **одна таблица** с колонкой `value`:

#### Таблица `demo_trades`
- **Назначение**: Демонстрационные торговые сделки
- **Колонка `value`**: Сумма сделки (quantity × price)
- **Записей**: 14
- **Диапазон значений**: от 4,858.75 до 118,520.0
- **Среднее значение**: 62,869.04

**Примеры значений value в demo_trades:**
```
AFLT  | 100 акций × 56.60 = 5,660.00
AFLT  | 300 акций × 56.60 = 16,980.00
TATNP | 150 акций × 577.90 = 86,685.00
```

### 4. Анализ таблицы metrics

В таблице `metrics` используются колонки `value1`, `value2`, `value3`, `value4`, `value5`:

- **Всего записей**: 28,278
- **Уникальных компаний**: 75
- **Типы метрик**: 3
  - "Доходность акций" (9,426 записей)
  - "Доходность индекса" (9,426 записей) 
  - "Доходность" (9,426 записей)

**Значения колонок value1-value5:**
- `value1`: от -555,468.0 до 740,628.0 (среднее: 16,810.24)
- `value2`: от -185,831.0 до 623,718.0 (среднее: 6,841.63)
- `value3`: от -530,293.0 до 847,286.0 (среднее: 6,365.88)
- `value4`: от -572,151.0 до 918,779.0 (среднее: 16,209.49)
- `value5`: от -1,126,606.0 до 1,933,204.0 (среднее: 46,226.94)

## Выводы

1. **В таблице `data_1d` колонки `value` НЕТ** - это таблица с OHLCV данными (Open, High, Low, Close, Volume)

2. **Колонка `value` существует только в таблице `demo_trades`** и означает сумму торговой сделки

3. **В таблице `metrics` используются колонки `value1-value5`** для хранения различных финансовых метрик

4. **Если вы ищете колонку `value` в контексте `data_1d`**, возможно имеется в виду:
   - `close` - цена закрытия (основная цена для анализа)
   - `volume` - объем торгов
   - Или данные из таблицы `metrics` для соответствующих символов

## Рекомендации

Для работы с данными из таблицы `data_1d` используйте:
- `close` - для анализа цен
- `volume` - для анализа объемов
- `open`, `high`, `low` - для технического анализа

Если нужны дополнительные метрики, обращайтесь к таблице `metrics` с соответствующими `value1-value5`.


